<set title="Shopping Cart @ Raw Materials Art Supplies">

<include href="header.html" />

<div class="row">
  <div class="col-sm-12">
    <p class="lead alert alert-warning">
      <strong>Hello!</strong> During this soft launch of our online store, all
      orders are reviewed manually by our staff. After you have submitted your
      order, we will contact you via email you within one business day to
      confirm your order and provide instructions on how to complete your
      order. Thanks for your patience!
    </p>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          Your information
        </h3>
      </div>
      <div class="panel-body">
        <form method="POST" action="{{ @BASE }}/cart/set-address">
          <div class="row">
            <div class="form-group col-sm-12">
              <label for="email">Email</label>
              <input type="email" class="form-control" name="email" required
                     placeholder="vincent.van.gogh@example.com"
                     value="{{ @sale.email }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="name">Name</label>
              <input type="text" class="form-control" name="name" required
                     autocomplete="name"
                     placeholder="Vincent Van Gogh"
                     value="{{ @billing_address.name }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="company">Company (optional)</label>
              <input type="text" class="form-control" name="company"
                     autocomplete="organization"
                     placeholder="(optional)"
                     value="{{ @billing_address.company }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="phone">Phone (optional)</label>
              <input type="text" class="form-control" name="phone"
                     autocomplete="tel-national"
                     placeholder="213-627-7223"
                     value="{{ @billing_address.phone }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="address1">Address</label>
              <input type="text" class="form-control" name="address1" required
                     autocomplete="address-line1"
                     value="{{ @billing_address.address1 }}"
                     placeholder="436 S Main St">
              <input type="text" class="form-control" name="address2" 
                     autocomplete="address-line2"
                     value="{{ @billing_address.address2 }}"
                     placeholder="Apt 2-B">
            </div>
            <div class="form-group col-sm-5">
              <label for="city">City</label>
              <input type="text" class="form-control" name="city" required
                     autocomplete="address-level-2"
                     value="{{ @billing_address.city }}"
                     placeholder="Los Angeles">
            </div>
            <div class="form-group col-sm-2">
              <label for="state">State</label>
              <input type="text" class="form-control" name="state" required
                     autocomplete="address-level-1"
                     value="{{ @billing_address.state }}"
                     placeholder="CA">
            </div>
            <div class="form-group col-sm-3">
              <label for="zip">ZIP</label>
              <input type="text" class="form-control" name="zip5" required
                     autocomplete="postal-code"
                     value="{{ @billing_address.zip5 }}"
                     placeholder="90013">
            </div>
            <div class="form-group col-sm-2">
              <label for="zip4">+4</label>
              <input type="text" class="form-control" name="zip4"
                     value="{{ @billing_address.zip4 }}"
                     placeholder="0000">
            </div>
            <div class="form-group col-sm-12">
              <label for="country">Country</label>
              <p class="form-control-static">United States</p>
            </div>
          </div>

          <button type="submit" class="btn btn-primary">
            <i class="fa fa-home"></i> Set Billing Address
          </button>
        </form>

        <hr>

<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a class="{{ @sale.shipping_address_id == 0 ? 'collapsed' : '' }}"
           role="button" data-toggle="collapse" data-parent="#accordion"
           href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          <i class="fa {{ (@sale.shipping_address_id == 0) ? 'fa-check-square-o' : 'fa-square-o' }}"></i>
          Ship to billing address
        </a>
      </h4>
    </div>
    <div id="collapseOne"
         class="panel-collapse collapse {{ @sale.shipping_address_id == 0 ? 'in' : '' }}"
         role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body">
        <check if="{{ @sale.shipping_address_id == 0 }}">
          <true>
            Same as billing address.
          </true>
          <false>
            <form method="POST"
                  action="{{ @BASE }}/cart/ship-to-billing">
              <button type="submit" class="btn btn-primary">
                <i class="fa fa-home"></i> Ship to Billing Address
              </button>
            </form>
          </false>
        </check>
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="{{ @sale.shipping_address_id > 1 ? 'collapsed' : '' }}"
           role="button" data-toggle="collapse" data-parent="#accordion"
           href="#collapseTwo"
           aria-expanded="false" aria-controls="collapseTwo">
          <i class="fa {{ (@sale.shipping_address_id > 1) ? 'fa-check-square-o' : 'fa-square-o' }}"></i>
          Ship to different address
        </a>
      </h4>
    </div>
    <div id="collapseTwo"
         class="panel-collapse collapse {{ @sale.shipping_address_id > 1 ? 'in' : '' }}"
         role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
        <form method="POST" action="{{ @BASE }}/cart/set-address">
          <div class="row">
            <div class="form-group col-sm-12">
              <label for="name">Name</label>
              <input type="text" class="form-control" name="name"
                     autocomplete="name"
                     placeholder="Paul Gauguin"
                     value="{{ @shipping_address.name }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="company">Company (optional)</label>
              <input type="text" class="form-control" name="company"
                     autocomplete="organization"
                     placeholder="(optional)"
                     value="{{ @shipping_address.company }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="phone">Phone (optional)</label>
              <input type="text" class="form-control" name="phone"
                     autocomplete="tel-national"
                     placeholder="213-627-7223"
                     value="{{ @shipping_address.phone }}">
            </div>

            <div class="form-group col-sm-12">
              <label for="address1">Address</label>
              <input type="text" class="form-control" name="address1"
                     autocomplete="address-line1"
                     value="{{ @shipping_address.address1 }}"
                     placeholder="436 S Main St">
              <input type="text" class="form-control" name="address2" 
                     autocomplete="address-line2"
                     value="{{ @shipping_address.address2 }}"
                     placeholder="Apt 2-B">
            </div>
            <div class="form-group col-sm-5">
              <label for="city">City</label>
              <input type="text" class="form-control" name="city"
                     autocomplete="address-level2"
                     value="{{ @shipping_address.city }}"
                     placeholder="Los Angeles">
            </div>
            <div class="form-group col-sm-2">
              <label for="state">State</label>
              <input type="text" class="form-control" name="state"
                     autocomplete="address-level1"
                     value="{{ @shipping_address.state }}"
                     placeholder="CA">
            </div>
            <div class="form-group col-sm-3">
              <label for="zip">ZIP</label>
              <input type="text" class="form-control" name="zip5"
                     autocomplete="postal-code"
                     value="{{ @shipping_address.zip5 }}"
                     placeholder="90013">
            </div>
            <div class="form-group col-sm-2">
              <label for="zip4">+4</label>
              <input type="text" class="form-control" name="zip4"
                     value="{{ @shipping_address.zip4 }}"
                     placeholder="0000">
            </div>
            <div class="form-group col-sm-12">
              <label for="country">Country</label>
              <p class="form-control-static">United States</p>
            </div>
          </div>

          <input type="hidden" name="type" value="shipping">
          <button type="submit" class="btn btn-primary">
            <i class="fa fa-home"></i> Set Shipping Address
          </button>
        </form>
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="{{ @sale.shipping_address_id == 1 ? 'collapsed' : '' }}"
           role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          <i class="fa {{ (@sale.shipping_address_id == 1) ? 'fa-check-square-o' : 'fa-square-o' }}"></i>
          Pick up at the store
        </a>
      </h4>
    </div>
    <div id="collapseThree"
         class="panel-collapse collapse {{ @sale.shipping_address_id == 1 ? 'in' : '' }}"
         role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
        <check if="{{ @sale.shipping_address_id == 1 }}">
          <true>
            <div>{{ @shipping_address.company }}</div>
            <div>{{ @shipping_address.phone }}</div>
            <div>{{ @shipping_address.address1 }}</div>
            <div>{{ @shipping_address.address2 }}</div>
            <div>
              {{ @shipping_address.city }}, {{ @shipping_address.state }}
              {{ @shipping_address.zip5 }}{{ @shipping_address.zip4 ? "-" . @shipping_address.zip4 : "" }}
            </div>
          </true>
          <false>
            <form method="POST"
                  action="{{ @BASE }}/cart/set-in-store-pickup">
              <button type="submit" class="btn btn-primary">
                <i class="fa fa-building"></i> Pick up at the store
              </button>
            </form>
          </false>
        </check>
      </div>
    </div>
  </div>
</div>

      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          Your cart
          <span class="pull-right badge">{{ count(@items) }}</span>
        </h3>
      </div>
      <form method="POST" action="{{ @BASE }}/cart/update">
        <include href="sale-items.html" />
      </form>
      <div class="panel-body">
<check if="{{ @sale.email == '' }}">
        <p class="text-danger">You need to provide your email address.
</check>
<check if="{{ @sale.subtotal == 0 }}">
        <p class="text-danger">You need to have some items in your cart before you can place an order. <a href="{{ @BASE }}/{{ @CATALOG }}">Start shopping.</a>
</check>
<check if="{{ !@billing_address.id }}">
        <p class="text-danger">You need to supply your billing address.</p>
</check>
<check if="{{ @sale.email && @sale.subtotal && @billing_address.id }}">
        <form class="row" method="POST" action="/cart/place-order">

          <div class="form-group col-sm-12">
            <label for="comment">Comment</label>
            <textarea class="form-control" rows="6" name="comment"></textarea>
          </div>

          <div class="form-group col-sm-12">
            <button type="submit" class="btn btn-primary">
              <i class="fa fa-sign-in"></i>  Submit Order Request
            </button>
          </div>
        </form>

        <br>

        <p class="alert alert-danger">
          Please note that we reserve the right to reject orders due to
          unforeseen circumstances.
        </p>
</check>
      </div>
      <div class="panel-footer">
        <p>
          Feel free to <a href="{{ @BASE }}/contact">contact us
          with any questions or concerns</a>.
        </p>
      </div>
    </div>
  </div>

</div>
<include href="footer.html" />
